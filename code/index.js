!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const w="\n            .---.\n           /     \\\n           \\.@-@./\n           /`\\_/`\\\n          //  _  \\\\\n         | \\     )|_\n        /`\\_`>  <_/ \\\n        \\__/'---'\\__/\n",b="\n                         .88888888:.\n                        88888888.88888.\n                      .8888888888888888.\n                      888888888888888888\n                      88' _`88'_  `88888\n                      88 88 88 88  88888\n                      88_88_::_88_:88888\n                      88:::,::,:::::8888\n                      88`:::::::::`8888\n                     .88  `:::`    8:88.\n                    8888            `8:888.\n                  .8888`             `888888.\n                 .8888:..  .::.  ...:`8888888:.\n                .8888.`     :`     `::`88:88888\n               .8888        `         `.888:8888.\n              888:8         .           888:88888\n            .888:88        .:           888:88888:\n            8888888.       ::           88:888888\n            `.::.888.      ::          .88888888\n           .::::::.888.    ::         ::::::8888:.\n          ::::::::::.888   `         .::::::::8888:.\n          ::::::::::::.8    `      .:8:::::::::::8888:.\n         .::::::::::::::.        .:888:::::::::::::8888.\n         :::::::::::::::88:.__.teletubbies:::8888888:.\n          ``..:::::::::::88888888.:::::::::::88888888\n                ``..::::` -- `` -.:::::88888888:::::8888:.\n                     ``..      .:8888888:::::8889\n                          `.:88888888::88888\n                            88888888:.888888\n                           .8888888888888888\n                           888.8888888888.88\n                          888888.8888888888\n                          88888888.88888888\n                         .8888888888888888\n                         888888888888888888\n                        88888888.88888888888\n                        888888888.88888888888\n                        8888888888.88888888888\n                        888888888888.88888888:\n                        8888888888888..88888\n                        8888888888888...88\n                        888888888888.....\n                         88888888..`\n",T="\n    ____   ______  _   __  ______  __  __  ____   _   __\n   / __ \\ / ____/ / | / / / ____/ / / / / /  _/  / | / /\n  / /_/ // __/   /  |/ / / / __  / / / /  / /   /  |/ /\n / ____// /___  / /|  / / /_/ / / /_/ / _/ /   / /|  /\n/_/    /_____/ /_/ |_/  \\____/  \\____/ /___/  /_/ |_/\n\n  ______ ______ ____   __  ___ ____ _   __ ___     __\n /_  __// ____// __ \\ /  |/  //  _// | / //   |   / /\n  / /  / __/  / /_/ // /|_/ / / / /  |/ // /| |  / /\n / /  / /___ / _, _// /  / /_/ / / /|  // ___ | / /___\n/_/  /_____//_/ |_|/_/  /_//___//_/ |_//_/  |_|/_____/",v="\n        ><(((o>\n",C='\n           _____\n       ,ad8PPPP88b,\n      d8P"      "Y8b\n     dP\'           \\`Yd\n     8              8I\n     I,            ,8I\n      Yb          dP\'\n      "8a      a8"\n        "8a  a8"\n          ""\n      ____/    \\____\n     |             |\n     |    ____     |\n     |   |    |    |\n     |___|    |____|\n',O="\n      *\n     /|\\\n    /_|_\\\n      |\n    \\_|_/\n     \\|/\n      *\n",x={home:{type:"directory",children:{"readme.txt":{type:"file",content:"Welcome to Penguin Terminal!\n\nThis is a simulated Linux-style terminal with a penguin theme.\nThe cold winds of Antarctica await your commands.\n\nType 'help' to see available commands.\nType 'penguin' to see your friendly guide.\n\nStay warm, explorer!"},secrets:{type:"directory",children:{"fish_stash.txt":{type:"file",content:"SECRET FISH STASH LOCATIONS:\n============================\n1. Behind the big iceberg\n2. Under the frozen lake\n3. Inside the abandoned igloo\n\nTotal fish count: 847\n\nDO NOT SHARE THIS INFORMATION!"},"penguin_facts.txt":{type:"file",content:'PENGUIN FACTS:\n==============\n- Emperor penguins can dive to 1,800 feet\n- Penguins propose with pebbles\n- They can drink salt water\n- A group is called a "waddle"\n- They\'re excellent swimmers (up to 22 mph)'}}},logs:{type:"directory",children:{"system.log":{type:"file",content:"[2024-01-15 08:00:00] System initialized\n[2024-01-15 08:00:01] Penguin module loaded\n[2024-01-15 08:00:02] Fish detection online\n[2024-01-15 08:00:03] Temperature: -40C (optimal)\n[2024-01-15 08:00:04] All systems nominal"}}}}}};let s="/home";function l(t){if(t.startsWith("/"))return t;if(".."===t){const t=s.split("/").filter((t=>t));return t.pop(),"/"+t.join("/")||"/home"}return"."===t?s:s+"/"+t}function h(t){const e=t.split("/").filter((t=>t));let n=x;for(const t of e){if("object"==typeof n&&"type"in n&&"directory"===n.type&&(n=n.children||{}),!(t in n))return null;n=n[t]}return n}const y=["Why don't penguins like talking to strangers at parties? They find it hard to break the ice.","What do penguins sing on a birthday? Freeze a jolly good fellow!","Why are penguins good race car drivers? Because they're always in pole position!","What do you call a penguin in the desert? Lost.","How do penguins drink? Out of beak-ers!","What's a penguin's favorite relative? Aunt Arctica!","Why don't penguins fly? They can't afford plane tickets.","What do penguins eat for lunch? Ice-burgers!","How does a penguin build its house? Igloos it together!","What do you call a cold penguin? A brrr-d!"],f=["A fish in the flipper is worth two in the sea.","The ice will be favorable tomorrow.","Your waddle will lead you to great adventures.","Patience on the ice brings the biggest fish.","The cold never bothered you anyway.","A pebble given with love is worth more than gold.","Dive deep, for treasures await below.","The colony that stays together, thrives together.","Your tuxedo is always in style.","Great journeys begin with a single waddle."];function N(t){const e=t.trim(),[n,...i]=e.split(/\s+/),o=i.join(" ");switch(n.toLowerCase()){case"help":return{output:"\nAVAILABLE COMMANDS:\n===================\n\nNAVIGATION:\n  ls [path]      - List directory contents\n  cd <path>      - Change directory\n  pwd            - Print working directory\n  cat <file>     - Display file contents\n\nPENGUIN ZONE:\n  penguin        - Display a penguin\n  bigpenguin     - Display a LARGE penguin\n  fish           - Go fishing\n  igloo          - Build an igloo\n  snowflake      - Make it snow\n\nFUN STUFF:\n  joke           - Tell a penguin joke\n  fortune        - Get your fortune\n  waddle         - Do a little waddle\n  swim           - Go for a swim\n\nSYSTEM:\n  whoami         - Display current user\n  date           - Show current date/time\n  uptime         - System uptime\n  neofetch       - System information\n  matrix         - Enter the matrix\n  clear          - Clear the terminal\n  history        - Show command history\n  echo <text>    - Print text\n\nGAME:\n  game           - Open the game page\n\nCHAT:\n  chat <msg>     - Chat with the penguin AI\n  Or just type anything that's not a command!\n\nType any command to execute. Have fun exploring!"};case"penguin":return{output:`${w}\n  Hey there! I'm your terminal guide.\n  Need help? Type 'help'!`};case"bigpenguin":return{output:b};case"fish":const t=Math.floor(10*Math.random())+1;return{output:`\n${v}\nYou went fishing and caught ${t} fish!\n${t>5?"Wow, great catch!":"Not bad, keep trying!"}\n${"><(((°> ".repeat(Math.min(t,5))}`};case"igloo":return{output:`${C}\nYou built a cozy igloo! Temperature inside: -5°C (toasty!)`};case"snowflake":return{output:`${Array(3).fill(O).join("")}\n*  *  *  *  *  *  *  *  *  *\nLet it snow, let it snow, let it snow!`};case"joke":return{output:y[Math.floor(Math.random()*y.length)]};case"fortune":return{output:`\n  ,---.\n /     \\\n|  ???  |\n \\     /\n  \`---'\n\n${f[Math.floor(Math.random()*f.length)]}`};case"waddle":return{output:"\n   (o_o)     (o_o)      (o_o)\n   <) )>    <( (>      <) )>\n    / \\      / \\        / \\\n\n*waddle waddle waddle*\nYou did a happy little waddle!"};case"swim":return{output:"\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n~~~  (o_o)  ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n~~~~<)  )>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~~><(((°>~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nSPLASH! You dove into the icy waters!\nWater temperature: -2°C (refreshing!)"};case"whoami":return{output:"penguin@antarctica"};case"date":return{output:(new Date).toString()};case"uptime":return{output:"Terminal has been running since the last ice age.\nLoad average: 0.00, 0.01, 0.05 (penguins working)"};case"neofetch":return{output:"\n       .--.          penguin@antarctica\n      |o_o |         -----------------\n      |:_/ |         OS: PenguinOS 4.2.0 (Ice Edition)\n     //   \\ \\        Host: Antarctica Ice Server\n    (|     | )       Kernel: 6.1.0-penguin\n   /'\\_   _/'`\\      Uptime: 4.5 billion years\n   \\___)=(___/       Packages: 847 (fish)\n                     Shell: penguin-bash 5.2\n                     Resolution: 1920x1080\n                     Terminal: Penguin Terminal\n                     CPU: Intel Core i-ce @ 3.2GHz\n                     Memory: 512MB / 1024MB\n                     Disk: 500GB / 1TB (ice storage)\n                     Local IP: 192.168.1.penguin\n                     Temperature: -40°C"};case"matrix":return{output:"\n01001000 01100101 01101100 01101100 01101111\n01010000 01100101 01101110 01100111 01110101\n01101001 01101110 00100001\n\nYou took the blue fish pill...\nWake up, penguin... The Matrix has you..."};case"ls":const n=o?l(o):s,i=h(n);return i?"file"===i.type?{output:o||n.split("/").pop()||""}:{output:Object.entries(i.children||{}).map((([t,e])=>"directory"===e.type?`${t}/`:t)).join("  ")||"(empty directory)"}:{output:`ls: cannot access '${o}': No such file or directory`,isError:!0};case"cd":if(!o)return s="/home",{output:""};const r=l(o),a=h(r);return a?"directory"!==a.type?{output:`cd: ${o}: Not a directory`,isError:!0}:(s=r,{output:""}):{output:`cd: ${o}: No such file or directory`,isError:!0};case"pwd":return{output:s};case"cat":if(!o)return{output:"cat: missing operand",isError:!0};const u=h(l(o));return u?"file"!==u.type?{output:`cat: ${o}: Is a directory`,isError:!0}:{output:u.content||""}:{output:`cat: ${o}: No such file or directory`,isError:!0};case"echo":return{output:o||""};case"clear":return{output:"__CLEAR__"};case"history":return{output:"__HISTORY__"};case"game":return{output:"Launching game…",action:"NAVIGATE",url:"/game/"};case"chat":return o?{output:"",isChat:!0,chatMessage:o}:{output:"Usage: chat <message>\nExample: chat Hello penguin!"};case"":return{output:""};default:return{output:"",isChat:!0,chatMessage:e}}}function g(){return`penguin@antarctica:${"/home"===s?"~":s.replace("/home","~")}$`}const A="https://oiivoutanryngimxvfbs.supabase.co",P="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9paXZvdXRhbnJ5bmdpbXh2ZmJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNjA4MDYsImV4cCI6MjA4NDkzNjgwNn0.mswExMtdbgFtnP-taIML8InckZg4_6fNhhoioFg6tEw";async function S(t,e){const n=`${A}/functions/v1/terminal_chat`,i=await fetch(n,{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({message:t,history:e})});if(!i.ok)throw new Error(`Request failed: ${i.status}`);const o=await i.json();if(o.error)throw new Error(o.error);return o.reply||"..."}class L{container;outputEl;inputLine;promptEl;inputEl;history=[];historyIndex=-1;commandHistory=[];chatHistory=[];isProcessing=!1;constructor(t){const e=document.getElementById(t);if(!e)throw new Error(`Container element '${t}' not found`);this.container=e,this.outputEl=this.createOutputElement(),this.inputLine=this.createInputLine(),this.promptEl=this.inputLine.querySelector(".prompt"),this.inputEl=this.inputLine.querySelector("input"),this.container.appendChild(this.outputEl),this.container.appendChild(this.inputLine),this.setupEventListeners(),this.showWelcome(),this.focusInput()}createOutputElement(){const t=document.createElement("div");return t.className="terminal-output",t}createInputLine(){const t=document.createElement("div");t.className="input-line";const e=document.createElement("span");e.className="prompt",e.textContent=g()+" ";const n=document.createElement("input");return n.type="text",n.className="terminal-input",n.spellcheck=!1,n.autocomplete="off",t.appendChild(e),t.appendChild(n),t}setupEventListeners(){this.inputEl.addEventListener("keydown",(t=>this.handleKeyDown(t))),this.container.addEventListener("click",(()=>this.focusInput())),document.addEventListener("keydown",(t=>{t.ctrlKey&&"l"===t.key&&(t.preventDefault(),this.clear())}))}handleKeyDown(t){if(this.isProcessing)t.preventDefault();else switch(t.key){case"Enter":this.executeInput();break;case"ArrowUp":t.preventDefault(),this.navigateHistory(-1);break;case"ArrowDown":t.preventDefault(),this.navigateHistory(1);break;case"Tab":t.preventDefault(),this.autoComplete()}}navigateHistory(t){if(0!==this.history.length){if(this.historyIndex+=t,this.historyIndex<0)this.historyIndex=0;else if(this.historyIndex>=this.history.length)return this.historyIndex=this.history.length,void(this.inputEl.value="");this.inputEl.value=this.history[this.historyIndex]||""}}autoComplete(){const t=this.inputEl.value.toLowerCase(),e=["help","penguin","bigpenguin","fish","igloo","snowflake","joke","fortune","waddle","swim","whoami","date","uptime","neofetch","matrix","clear","history","echo","ls","cd","pwd","cat","chat","game"].filter((e=>e.startsWith(t)));1===e.length?this.inputEl.value=e[0]:e.length>1&&(this.printOutput(`${this.promptEl.textContent}${this.inputEl.value}`),this.printOutput(e.join("  ")))}async executeInput(){const t=this.inputEl.value,e=this.promptEl.textContent||"";this.printOutput(`${e}${t}`,"command-line"),t.trim()&&(this.history.push(t),this.commandHistory.push(t)),this.historyIndex=this.history.length;const n=N(t);if("NAVIGATE"===n.action&&n.url)return n.output&&this.printOutput(n.output),this.promptEl.textContent=g()+" ",this.inputEl.value="",this.scrollToBottom(),void setTimeout((()=>{window.location.href=n.url}),200);"__CLEAR__"===n.output?this.clear():"__HISTORY__"===n.output?this.printOutput(this.commandHistory.map(((t,e)=>`  ${e+1}  ${t}`)).join("\n")):n.isChat&&n.chatMessage?await this.handleChat(n.chatMessage):n.output&&this.printOutput(n.output,n.isError?"error":void 0),this.promptEl.textContent=g()+" ",this.inputEl.value="",this.scrollToBottom()}async handleChat(t){this.isProcessing=!0,this.inputEl.disabled=!0;const e=this.printOutput("(o_o) thinking...","chat-loading");try{const n=await S(t,this.chatHistory);this.chatHistory.push({role:"user",content:t}),this.chatHistory.push({role:"assistant",content:n}),this.chatHistory.length>20&&(this.chatHistory=this.chatHistory.slice(-20)),e.remove(),this.printOutput(`[penguin] ${n}`,"chat-response")}catch(t){e.remove();const n=t instanceof Error?t.message:"Unknown error";this.printOutput(`[error] Failed to get response: ${n}`,"error")}finally{this.isProcessing=!1,this.inputEl.disabled=!1,this.focusInput(),this.scrollToBottom()}}printOutput(t,e){const n=document.createElement("pre");return n.className="output-line"+(e?` ${e}`:""),n.textContent=t,this.outputEl.appendChild(n),n}showWelcome(){this.printOutput(T,"banner"),this.printOutput("\nWelcome to Penguin Terminal!\n","welcome-text"),this.printOutput(w,"penguin-art"),this.printOutput("\nType 'help' to see available commands.\nType 'penguin' to meet your guide.\n","welcome-text");const t=document.createElement("pre");t.className="output-line welcome-text",t.innerHTML='X: <a href="https://x.com/penguin_term" target="_blank" rel="noopener" class="terminal-link">@penguin_term</a><br>Pump.fun: <a href="https://pump.fun" target="_blank" rel="noopener" class="terminal-link">Soon</a>',this.outputEl.appendChild(t),this.printOutput("\nType 'help' to see available commands, or just type anything to chat!\n","welcome-text")}clear(){this.outputEl.innerHTML=""}scrollToBottom(){this.container.scrollTop=this.container.scrollHeight}focusInput(){this.inputEl.focus({preventScroll:!0})}}document.addEventListener("DOMContentLoaded",(()=>{new L("terminal")}));